<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>EFS(Elastic File System)</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="15685ca6-b686-476e-99dc-348efe42a6fc" class="page sans"><header><h1 class="page-title">EFS(Elastic File System)</h1></header><div class="page-body"><figure id="1705e1a5-fa76-4245-b8c9-2f406ee445ed" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled.png"><img style="width:1280px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled.png"/></a></figure><p id="bfe95507-3e60-4d76-a4de-9b705d0a6f64" class="">Elastic File System AWS&#x27;in EBS ve S3 gibi bir depolama çözümüdür. Karşılaştırarak anlatınca daha iyi oturacağını düşündüğüm için ara ara diğerleriyle kıyaslayacağız. NFS(Network File Sistem) tabanlı dosya bazlı bir depolama imkanı sunar ve NFS v4 protokolünü kullanır. Basitçe şöyle düşünelim ortak bir yerde bir deponuz var ve şirketteki izin verdiğiniz herkes o depoyu kullanabiliyor.  Şİmdi özelliklerini sayarak diğerleriyle karşılaştıralım.</p><figure id="c2b5cc0a-e6a0-4874-a82b-3d284d12a321" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%201.png"><img style="width:660px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%201.png"/></a></figure><p id="fe827758-fbb3-48c8-8ade-c3a265716530" class="">Ölçeklenebilir özelliği en çekici yanı. Yani siz başlangıçta bir boyut belirtmiyorsunuz. Balon gibi düşünürsek içine veri koydukça depolama alanınız artıyor. EBS&#x27;te volume büyüklüğünü seçiyorduk. İhtiyaç artarsa modify ediyor ve tekrar hazır hale getirmek için manual işlemler yapıyorduk. EFS de ne kadar kullanırsanız o kadar ödüyorsunuz ödeme konusunu ilerde detaylandıracağım.</p><p id="ab9e8f76-cae6-480d-af65-796036099509" class="">Tanımıda da belirtmiştik ağ üzerinde bir depo kuruyoruz ve buna istediğimiz kadar kaynak erişebiliyor. EBS&#x27;te ise EC2 ile ilişkilendiriyor bir EBS ancak bir EC2 ya bağlanabiliyordu(nitro EBS&#x27;ler hariç).  S3&#x27;te mauntlama diye bir konu zaten yok bütün kaynaklar ulaşabiliyor. </p><p id="86e31126-5199-41f1-855f-7829779f15d6" class="">Sadece Linux desteği mevcut bu servis için ama windows kullanıyorsanız da Amazon FSx servisini kullanabilirsiniz. EBS veya S3 de böyle bir kısıt yok. </p><p id="6a27c535-9570-4ad0-8de1-4f6689a40d6e" class="">Fiyat karşılaştırması yapacaksak en optimum çözüm S3, sonra EBS ve en pahalı çözüm ise EFS diyebiliriz. Hazır bir servis olduğu için birçok değişkeni sizin adınıza Amazon yönetiyor bu sebeple diğerlerine göre pahalı oluyor.</p><p id="2d8b07ec-20b7-451a-98e5-05b945e21734" class="">Hız anlamında EBS ve EFS aynı arka planı kulllandığı için aynı diyebiliriz. EBS&#x27;te olduğu gibi EFS&#x27;te de IOPS ve Throughput değerlerini seçebiliyoruz. S3 diğerlerine göre yavaş kalmış oluyor.</p><p id="d2736636-2a24-4188-8fe2-678a8de93c9c" class="">Depolama kapasiteleri olarak da S3 ve EFS için bir sınır yok balon örneğini vermiştik. EBS&#x27;te ise Maximum değer 16TB.</p><p id="ee77ce3c-3923-4d51-8241-7ee3ae53b339" class="">Bir diğer konu EBS&#x27;te olduğu gibi ulaşmak isteyen kaynakların aynı AZ&#x27;de olmasına gerek yok EFS için.  VPC özelinde EFS kurulursa her AZ&#x27;den ayrı mount target oluşturulmalı ama Tek AZ&#x27;de tek mount target ile erişilebilir.</p><div id="70d54866-0f25-4136-a328-f4d2293f2614" class="column-list"><div id="a2ce7f98-a5be-429c-9dce-97c22d1bb3d6" style="width:50%" class="column"><figure id="21e0c006-af45-4dc5-abda-c75bab96a386" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%202.png"><img style="width:384px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%202.png"/></a></figure></div><div id="e4c26e42-35c2-4081-b4d8-64f0c3444f19" style="width:50%" class="column"><figure id="41dca4ea-4785-4fd6-ba8a-8593b94c5b5a" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%203.png"><img style="width:384px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%203.png"/></a></figure></div></div><p id="b598ccae-3e50-4d73-a3c2-8ace33e60d48" class="">Daha iyi anlamak için şu örneği de verelim. Biz EBS te file sistem kurmak için diski formatlamıştık. Aslında EFS&#x27;i için File System kurulmuş EBS gibi düşünebilirsiniz. Fark olarak başlangıçta bir boyut seçmiyorsunuz ve tüm kaynaklar erişebiliyor. Tabi şunu da ekleyelim bir dosya sistemi olduğu için içine EBS te oluğu gibi bir işletim sistemi de kurulamaz.</p><p id="63eec6df-d565-4412-8240-ed0386ee507c" class="">Kullanım alanı olarak da şöyle bir örnek verelim.  Siz sisteminizi kurmak için templete hazırladınız Auto Scaling Group ile makine sayınızı ihtiyaca göre ayalıyorsunuz aynı templete ile makineler ayağa kalkıyor. Bir güncelleme yapmak isterseniz templete değiştirmeniz ve tekrar sistemi ayağa kaldırmanız gerekecek. Onun yerine değişmesi muhtemel ksımları EFS de muhafaza edip templete ile EFS&#x27;i işaret edebilirsiniz.</p><p id="f8f47f91-7522-430e-a938-db0778a844b0" class="">Ücretlendirme kısmına bakalım son olarak daha sonra konsola geçip bir uygulama yapalım.  İki çeşit fiyatlandırma var ve her ikisi için de tek AZ&#x27;den erişim veya tüm AZ&#x27;ler den erişim olarak iki farklı uygulama var. Standard storage seçilirse sadece depolama ücreti GB başına ödenir. Tek AZ için GB başına 0.160 $ iken tüm AZ&#x27;ler seçilirse 0.30 $. Diğer seçenek  Standart-Infrequent Access&#x27;de ise depolama için daha düşük ücret ödenirken ayrıca depo içindeki veriye erişim içinde ayrı bir fiyat ödemeniz gerekir. Tek AZ için GB başına 0.133 $ iken tüm AZ&#x27;ler seçilirse 0.25 $. Eğer veriye sık erişirseniz Standard&#x27;da eğer nadir erişecekseniz Standart-Infrequent Access&#x27;de muhafaza edebilirsiniz. Ayrıca Life Cycle özelliği ile iki seçenek arasında kurallar vererek otomatik geçiş yaptırabilirsiniz.</p><figure id="c3e7e4dd-dd91-474d-b371-24693089e1ae" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%204.png"><img style="width:366px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%204.png"/></a></figure><hr id="0375964c-8938-46bf-839d-52025c7a20ea"/><p id="424d7867-a222-4938-b319-54c1706cf513" class="">Şimdi konsola geçelim. EFS oluşturmadan önce ön hazırlık olarak Security Grubumuzu(SG) yapalım. Burada şöyle bir yöntem izleyeceğiz tüm EC2&#x27;lara tek tek NFS portunu açamayacağımız için önce EFS i kullanmasını istediğimiz EC2&#x27;lar için 22 portu açık bir SG oluşturalım. Takiben NFS portu(2049) portu açık olan bir SG daha oluşturalım ve source(kaynak) olarak ilk oluşturduğumuz SG&#x27;u seçelim. Burada şunu yaptık sadece ilk oluşturduğumuz SG&#x27;a dahil olan EC2&#x27;lara NFS portunu açmış olduk.</p><p id="8a0b2753-5627-41f8-9e5b-692eda15f39b" class="">Arama çubuğuna EFS yazalım. <code>Create File System</code> butonuna basalım.  Aşağıdaki resimde göreceğiniz üzere basitçe yaratabiliriken daha detaylı ayarlar için <code>Customize</code>&#x27;a basalım.</p><figure id="cfbacad8-7a95-4abf-bb31-e68cdb039911" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%205.png"><img style="width:432px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%205.png"/></a></figure><figure id="b4bc5c5b-272e-4ea9-b172-74222c7f38ce" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%206.png"><img style="width:742px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%206.png"/></a></figure><p id="428bc9c2-06b4-490e-930d-55e279c5f678" class="">1- Dosya sisteminize isim verebilirsiniz zorunlu değildir.</p><p id="d2001d95-0a81-44d7-97b1-f2f37aff678f" class="">2- Avalibility and Durability &gt;&gt; İki seçenek var Region seçerseniz tüm AZ&#x27;ler&#x27;de yedeklenir erişim One Zone&#x27;a göre hızlıdır. Ücreti One AZ&#x27;ye oranla yüksektir. Her AZ&#x27;den mount Target yapılması gerekir. One Zone seçilirse altta bir menü açılır istenilen AZ seçilir. Veriler sadece seçilen AZ de yedeklenir. Diğer AZ&#x27;lerden erişim region&#x27;a göre bir miktar yavaştır. Diğer AZ&#x27;lerden erişim için extra ücret ödenir.</p><p id="27d5ba8c-b0fc-4c8a-adfc-482595b80c48" class="">3- Automatic Backup &gt;&gt; Verileriniz otomatik yedeklenir. Default değeri seçilidir. Dikkat extra ücrete tabidir.</p><p id="6df490b3-6e06-4317-99f4-078dcee30e18" class="">4- Lifecycle management &gt;&gt; Bu kısım önemli. Verilerin Standard depolamadan Standard-Infrequent Access&#x27;e(IA) geçirilmesi veya tam tersi tekrar Standard depolamaya geçirilmesi için kural koyduğumuz yer. IA&#x27;ya geçiş içi 7, 14, 30, 60, 90 gün seçenekler mevcut. Bu şu anlama geliyor veri belirlenen süre boyunca çağrılmaz ise IA&#x27;ya geçsin diye önceden plan yapıyorsunuz. Neden böyle birşey yapalım çünkü IA daha ucuz. IA&#x27;nın dezavantajı da depolama ucuzken veriyi çağırdığınızda extra ücret ödersiniz. İkinci kısımda bunun için eğer veri çağrılırsa tekrar Standard&#x27;a taşı. Burada iki seçenek var ilk seferde veya hiç.</p><div id="babddf73-0c23-4015-a3a0-c0bc568f7494" class="column-list"><div id="feae0669-a8dc-457c-bfa7-c61ea9f216d3" style="width:50%" class="column"><figure id="aec27af6-6b02-4ab3-8b06-cd5736cd1124" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%207.png"><img style="width:336px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%207.png"/></a></figure></div><div id="ce6e6192-3d0a-4a7c-839a-a007f828a4aa" style="width:50%" class="column"><figure id="c6e5cb88-ec88-44ba-9bb8-3026accc93b7" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%208.png"><img style="width:321px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%208.png"/></a></figure></div></div><figure id="3746cf65-bd1b-41fb-b726-c7bcc46deb91" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%209.png"><img style="width:673px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%209.png"/></a></figure><p id="784ff09e-b601-4e90-88be-42faa9f56dac" class="">5- Veriye erişim hızınızı artırmak için Performans Mode&#x27;unuzu değiştirebilir. Max I/O seçebilirsiniz extra ücreti olacaktır.</p><p id="032130cd-b7f2-4f76-ab02-beaa40dd9f64" class="">6- Throughput Mode&#x27;u ile Provisioned seçeneğiyle kendiniz ayarlayabilirsiniz.</p><p id="95c1b788-53a3-40f5-be8d-58b452da2c58" class="">7- Verilerin şifreli olarak muhafaza edilmesini sağlayabilirsiniz.</p><p id="871474a6-a50e-4bc1-b709-e1818fe17e41" class="">8- Etiketleme yapabilirsiniz.</p><p id="4194c578-8e54-4e8c-a552-fdcc4ae536ec" class="">Sonraki sayfaya geçelim.</p><p id="a64af160-3605-4541-8a4a-725e21376c91" class="">Network sayfasında Region seçtiğimiz için Mount target oluşturmak istediğimiz AZ&#x27;leri seçiyoruz ve Security Grubu ayarlıyoruz. Daha önce oluşturduğumuz EFS-SecGrp seçtim ben.  2049 portuna daha önce EC2 için ayarldağım security gruptan gelen trafikler ulaşabilecekti.</p><figure id="02f5d4c0-c392-4f2f-a9ce-42a117c59360" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2010.png"><img style="width:902px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2010.png"/></a></figure><p id="83f5e3be-bc2f-4f74-916f-05d89667bcc7" class="">Sonraki sayfaya geçelim.</p><p id="5fc85f95-9443-4392-b3e2-ad8b0ba0cfb6" class="">Policy sayfasında kuralları belirleyebiliyoruz. Kendimiz bir kural girebildeceğimiz gibi hazır 4 adet kurallardan da seçim yapabiliriz. ilkinde Root erişimini default engelle seçilebilir. İkincisinde Default olarak erişim sadece read-only olsun diyebilirsiniz. Üçüncüsünde Anonim erişimi engelleyebilirsiniz. Son seçenekte istemcilerin geçişi esnasında şifrelemeyi etkin yapabilirsiniz. Birden fazlasını aynı anda kullanabilirsiniz. <strong>Grant additional permissions </strong>ile erişimi IAM prensiplerine göre sınırlayabilirsiniz.</p><figure id="ba9486ed-f778-4a40-8d15-6c7898bd9693" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2011.png"><img style="width:919px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2011.png"/></a></figure><p id="ad4a7b27-6a28-4a3b-b701-5a1bd81a8702" class="">Sonraki sayfa review sayfası. Gözden geçirmeyi yapıp create butonuna basalım. Oluşturduk nasıl kullanacağız? EC2 muza bağlanalım önce paketleri güncellemek için;</p><p id="f05bee17-55ed-4d8f-b374-94b7cd96c044" class=""><code>sudo yum update -y</code>  komutunu girelim. Daha sonra efs için bir paket yüklememiz gerekecek. Amazon Linux için komutları gireceğim diğer distrolar için internetten araştırabilirsiniz komutları.</p><p id="2f8cfb65-1d2a-469c-93d1-d093b3d09a7e" class=""><code>sudo yum install -y amazon-efs-utils</code>  komutu ile paketi yükledik.  Daha sonra nereye mount edeceğiz bir klasör ayarlamamız gerekecek. İstediğiniz yerde bir klasör oluşturun. Daha sonra EFS sayfamıza dönelim ve butonuna tıklayalım.</p><figure id="588e0f2c-f665-4557-97b7-df7529478b78" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2012.png"><img style="width:914px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2012.png"/></a></figure><p id="b85a3527-d11b-40b8-8c71-acf50eebd808" class="">Attach kısmına tıklayalım bizi yönlendirecek. Burada fs-009...... kısmı herkesin EFS ine özel oluyor. </p><figure id="baf234de-8b3e-4d55-900b-5030e61e2d75" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2013.png"><img style="width:476px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2013.png"/></a></figure><p id="ab8a15b7-bf85-4bb2-983f-12294578bca1" class="">Yukarıdaki komutu da çalıştıralım. Artık file sistemimiz hazır. Şimdi biraz kurcalaycağız. Region seçtiğimiz için aynı AZ&#x27;den aynı mount target&#x27;ı kullanarak erişiyorduk ve farklı AZ&#x27;deki bir makine de ulaşmak isterse mount target oluşturması gerekiyordu. </p><p id="a192f81c-c3dd-4f8c-aba7-d1cb40593597" class="">Öncelikle aynı AZ de 2 tane instance ayağa kaldıralım ve security grup olarak daha önce yaptığmız 22 port açık olan EC2-SecGrp&#x27;u seçelim. Bu SG herhangi 22 portu açık bir SG değil biz bunu daha sonra EFS için oluşturduğumuz SG için kaynak gösterdik. İlk makinede Sırasıyla aşağıdaki komutları çalıştıralım en son komut size özel nerden bakıldığını göstermiştim.</p><pre id="21593db1-693d-4fd7-9e56-10ab7290f17b" class="code"><code>sudo yum update -y
sudo yum install -y amazon-efs-utils
sudo mkdir efs-bir
sudo mount -t efs -o tls fs-009bd36f937d16cb9:/ efs-bir
sudo touch yeni.txt</code></pre><p id="183903cf-8d90-415c-8487-09d14b90ef7f" class="">Şimdi ikinci makineye geçelim.</p><pre id="081c335d-4890-42c1-9359-eda5d7a99e8a" class="code"><code>sudo yum update -y
sudo yum install -y amazon-efs-utils
sudo mkdir efs-iki
sudo mount -t efs -o tls fs-009bd36f937d16cb9:/ efs-iki
ls</code></pre><p id="5924a2c2-d6d2-413a-bd2f-8824b4e90860" class="">Her iki instance&#x27;da da farklı klasörlere mount yaptık ilkinde oluşturduğumuz yeni.txt yi ikincide de görebileceğiz.</p><hr id="9b3d1d18-5aea-4aa5-b3da-3b261a76797c"/><p id="12374218-b6ff-4b30-88d0-d83d2accc779" class="">Şimdi ise farklı bir AZ&#x27;de instance ayağa kaldıralım. 3. aşamaya gelelim farklı bir AZ seçelim.</p><figure id="f02e4273-19ae-4609-9f04-8c2cb001d1cc" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2014.png"><img style="width:537px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2014.png"/></a></figure><p id="e5cdec78-d64b-4461-8496-0e95d94f8d9d" class="">File system menüsü açıldı. Farklı AZ&#x27;den mount target oluşturmamız gerekiyordu. Bu aşamada yolu istediğiniz gibi ayarlayıp instance&#x27;ı ayağa kaldıralım. En altta user data kısmına da bakarsanız sizin adınıza bir takım işler yaptığını göreceksiniz. EC2-SecGrp seçmeyi unutmayalım. Bağladıktan sonra yolunu belirttiğiniz klasöre gidelim ve yeni.txt&#x27;yi görelim. Ben yol olarak /home/ec2-user/efs-ucuncu olarak ayarladım. Açıldığında klasör oluşturulmuş ve içinnde yeni.txt mevcut idi.</p><figure id="73b4e831-17d3-44e9-9a6b-51277b7935ce" class="image"><a href="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2015.png"><img style="width:486px" src="EFS(Elastic%20File%20System)%201705e1a5fa764245b8c92f406ee445ed/Untitled%2015.png"/></a></figure><p id="7a813a25-c5b9-46c5-ba00-5015d97e15e9" class="">
</p><p id="67f52b69-b5d7-4f65-9480-799f4761dc64" class="">
</p></div></article></body></html>