<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>EC2 LOAD BALANCING &amp;&amp; AUTO SCALING</title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	text-indent: -1.7em;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(145, 145, 142, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(187, 132, 108, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(215, 129, 58, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 148, 51, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(108, 155, 125, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(91, 151, 189, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(167, 130, 195, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(205, 116, 159, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(225, 111, 100, 1);
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article id="21d277b5-4482-4481-a231-2a243d3d13a4" class="page sans"><header><h1 class="page-title">EC2 LOAD BALANCING &amp;&amp; AUTO SCALING</h1></header><div class="page-body"><div id="cf1c5ad2-5020-4f50-8168-f2a696c14b21" class="column-list"><div id="cc1e4c73-1384-4eea-8b1e-065bbfadb636" style="width:50%" class="column"><figure id="3eb86378-8905-4e50-be38-3728b0fd208c" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled.png"><img style="width:336px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled.png"/></a></figure></div><div id="e68837a3-dac1-4899-8bcb-f20253493b89" style="width:50%" class="column"><figure id="f756dd58-8476-4d3e-82a1-ea431db4d5b9" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%201.png"><img style="width:336px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%201.png"/></a></figure></div></div><p id="4bf2b4fe-e2f5-4eb5-80a1-b47ef33eec56" class="">GÃ¶rdÃ¼ÄŸÃ¼nÃ¼z Ã¼zere hala EC2 servisini bitiremedik ğŸ™‚. AWS&#x27;in omurgasÄ± benzetmesi yapmÄ±ÅŸtÄ±k gerÃ§ekten de Ã¶yle. Bu zamana kadar neler anlattÄ±ÄŸÄ±mÄ±zÄ± toparlayalÄ±m Ã¶ncelikle bÃ¼yÃ¼k resimde neredeyiz gÃ¶relim. Ã–ncelikle instance kÄ±smÄ±nÄ± anlattÄ±k ve bir makina ayaÄŸa kaldÄ±rdÄ±k. Daha sonra Volume kÄ±smÄ±na geldik bu baÅŸlÄ±ÄŸÄ± ikiye ayÄ±rdÄ±k. Ä°lk kÄ±sÄ±mda EBS(Elastic Block Store) konsol arayÃ¼zÃ¼ne deÄŸindik. Yeni volume oluÅŸturma, snapshot alma, image oluÅŸturma gibi konularÄ± anlattÄ±k. Volume bÃ¶lÃ¼mÃ¼nÃ¼n ikinci parÃ§asÄ±nda olÅŸturduÄŸumuz volume&#x27;Ã¼ kullanÄ±labilr hale getirmek iÃ§in file sistem kurma yani formatlama, mount&#x27;lama ve takiben modify iÅŸlemlerini terminal vasÄ±tasÄ±yla gerÃ§ekleÅŸtirdik.</p><p id="68704ee3-beb5-42e0-b274-7d337503bbdf" class="">EC2&#x27;nun Ã¼Ã§Ã¼ncÃ¼ bÃ¶lÃ¼mÃ¼nde de load balancing ve auto scaling konularÄ±na deÄŸineceÄŸiz. Ã–ncelikle neden bÃ¶yle bir ihtiyacÄ±mÄ±z olabilir ve iki hizmetin birbiriyle alakasÄ±nÄ± aÃ§Ä±klamaya Ã§alÄ±ÅŸalÄ±m. </p><p id="eef32332-00f9-4508-9f9c-93342547b3f5" class="">Load balancing adÄ±ndan da anlaÅŸÄ±lacaÄŸÄ± Ã¼zere yÃ¼k dengelemek iÃ§in kullanÄ±lÄ±yor. Yani sizin birden fazla instance&#x27;Ä±nÄ±z var ve dÄ±ÅŸardan istek geliyor. Ä°steÄŸin hangi instance&#x27;a dÃ¼ÅŸeceÄŸine birisinin karar vermesi gerekiyor iÅŸte o arkadaÅŸ load balancer olmuÅŸ oluyor. Gelen trafiÄŸi makineler arasÄ±nda paylaÅŸtÄ±rÄ±yor. Herhangi bir makine Ã§Ã¶kerse tÃ¼m yÃ¼kÃ¼ Ã§alÄ±ÅŸan makineler arasÄ±nda daÄŸÄ±tÄ±yor. Auto scaling ise bize gelen trafiÄŸi yÃ¶netmemize yardÄ±mcÄ± oluyor. TrafiÄŸin arttÄ±ÄŸÄ± zamanda  instance sayÄ±sÄ±nÄ± artÄ±rarak sÃ¼rekli ulaÅŸÄ±labilmenize imkan verirken, trafik azaldÄ±ÄŸÄ±nda da makinelerin boÅŸa Ã§alÄ±ÅŸmamasÄ± iÃ§in kapatÄ±yor.</p><hr id="c1bd84ef-4a80-467a-ad13-c317ff78ec8b"/><p id="1a8bce37-fbbc-42dc-b0a9-defb60cec6ac" class="">Load balancing konusu ile devam edelim daha derine inelim. Neden kullanmalÄ±yÄ±zla ilgili iki sebep sÃ¶yleceÄŸim. Birincisi diyelim makineniz Ã§Ã¶ktÃ¼ ve ulaÅŸÄ±lamÄ±yor. Siz de daha Ã¶ncesinde snapshot aldÄ±ÄŸÄ±nÄ±zÄ± varsayalÄ±m yani iyi ihtima Ã¼zerinden gidiyorum. Sizin makineyi ayaÄŸa kaldÄ±rÄ±p tekrar kullanÄ±ma sunmanÄ±z zaman alacak ve siteniz belli bir sÃ¼re kullanÄ±lamayacak. SonuÃ§ mÃ¼ÅŸteri kaÃ§tÄ± ğŸ¤¢. Birinci sorunun Ã§Ã¶zÃ¼mÃ¼nÃ¼ ÅŸu ÅŸekilde halledebiliriz. Ä°ki makina kurup Ã¶nÃ¼ne load balancer eklersek biri Ã§Ã¶kse bile diÄŸeri yÃ¼kÃ¼ sahiplenecek. </p><p id="e3b0faa3-e78e-46ed-93df-8f98720e1ab2" class="">Ä°kinci sebep mÃ¼ÅŸteri trafiÄŸiniz arttÄ± diyelim nazar deÄŸmesin ğŸ˜‚ makine yetersiz kaldÄ± daha gÃ¼Ã§lÃ¼ bir makine seÃ§tiniz ordan devam ediyorsunuz arada kesinti oldu tabi. MaÅŸallahÄ±nÄ±z var mÃ¼ÅŸteri hala artÄ±yor trafiÄŸi karÅŸÄ±lamak iÃ§in yine makine gÃ¼Ã§lendirmeniz gerekecek. Bu geÃ§ici Ã§Ã¶zÃ¼m yani gÃ¼nÃ¼ kurtarÄ±rsÄ±nÄ±z ondan ziyade makine sayÄ±sÄ±nÄ± artÄ±rmanÄ±z ve Ã¶nÃ¼ne load balancer koymanÄ±z kesin Ã§Ã¶zÃ¼m olacak her iki sÄ±kÄ±ntÄ±yÄ± da Ã§Ã¶zecektir. Åunu da ilave edelim load balancing sadece inctance&#x27;lar iÃ§in deÄŸil container&#x27;lar iÃ§in de uygulanabilir.</p><figure id="e1f4299b-a92f-4899-80eb-37cc347ba790" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%202.png"><img style="width:1199px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%202.png"/></a></figure><p id="61afb586-f1d2-41a4-936d-913f909423c2" class="">NasÄ±l Ã§alÄ±ÅŸÄ±yor o kÄ±sma girelim. 2 bileÅŸen var. Birincisi listener(dinleyici) belirlediÄŸiniz porta gelen trafiÄŸi dinliyor. ikincisi config(konfigurasyon) hangi hedefe trafiÄŸin yÃ¶nlendirileceÄŸini belirleyen kurallar.  </p><figure id="f96e41c0-53b8-4839-ab53-0955dcef2dc9" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%203.png"><img style="width:555px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%203.png"/></a></figure><p id="473d2e4b-eac6-490f-b3ad-a229a0df0006" class="">ELB(Elastic Load Balancing) nin 4 Ã§eÅŸiti vardÄ±r. Ã‡oÄŸunlukla Application Load Balancer kullanÄ±lmaktadÄ±r.</p><figure id="8bab7dc7-4380-4a0e-a6e5-203a32e42c43" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%204.png"><img style="width:3739px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%204.png"/></a></figure><ol type="1" id="445bf3fc-23c8-4407-b689-4a1fb4da3dee" class="numbered-list" start="1"><li><strong>Classic Load Balancer:</strong> Layer 4 ve layer 7 de Ã§alÄ±ÅŸÄ±r. En eski hizmetidir. Layer 7 de Ã§alÄ±ÅŸan HTTP ve HTTPs iÃ§in de kullanÄ±labilir. ArtÄ±k kullanÄ±lmasÄ± tavsiye edilmeyen bir Ã§eÅŸittir. </li></ol><figure id="01826593-563b-48e5-b92f-4769979a7839" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%205.png"><img style="width:706px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%205.png"/></a></figure><ol type="1" id="ae5facf9-c5ec-4d0e-9c48-f34700514e9b" class="numbered-list" start="2"><li><strong>Aplication Load Balancer: (2016)</strong> Layer 7 de Ã§alÄ±ÅŸan http veye  https tabanlÄ± web siteleri, mobil uygulamalarda veya container&#x27;larda trafiklerin yÃ¶nlendirilmesi iÃ§in tercih edilir.</li></ol><figure id="e26b9e6a-5d2f-4b79-8ac5-f93e845fb5ad" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%206.png"><img style="width:1394px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%206.png"/></a></figure><ol type="1" id="df49398f-4e44-438f-a02e-e3bdb863b4a0" class="numbered-list" start="3"><li><strong>Network Load Balancer: (2017) </strong>Layer 4 te Ã§alÄ±ÅŸÄ±r. TCP trafiklerinin en hÄ±zlÄ± yÃ¶nlendirmesini gerÃ§ekleÅŸtiren load balancer Ã§eÅŸitidir. TXP, TLS, SCP, UDP destekler. Basit ve hÄ±zlÄ± bir load balancer&#x27;dÄ±r. Gecikme ALB&#x27;e gÃ¶re 4&#x27;te bir oranÄ±nda yani ALB nin yaklaÅŸÄ±k 4 katÄ± hÄ±zda Ã§alÄ±ÅŸÄ±r(100ms). Saniyede milyonlarca isteÄŸi alabilir. Free tier kapsamÄ±nda deÄŸildir.</li></ol><figure id="338ce437-435d-4337-ad04-4a8a20712a17" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%207.png"><img style="width:1429px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%207.png"/></a></figure><ol type="1" id="46a9e502-d362-4c91-a925-2eaa999e7e28" class="numbered-list" start="4"><li><strong>Gateway Load Balancer:</strong> (2020) 3. katman network layer&#x27;da ip protokolÃ¼ ile Ã§alÄ±ÅŸÄ±r. </li></ol><hr id="eab02e93-af8f-4f18-9834-bfa81ee52b57"/><p id="b9d64b9e-3571-4d5b-a7fa-9b58392a6d80" class="">
</p><figure id="5a83b08f-a675-4f10-a0c1-7881916519af" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%208.png"><img style="width:245px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%208.png"/></a></figure><p id="d90eae35-bf15-4b60-81c9-f85ac0d2ca19" class="">Temel bilgiyi aldÄ±k ihtiyacÄ± anladÄ±k sÄ±ra geldi kullanÄ±mÄ±na. Ne yapÄ±yordu bu arkadaÅŸ gelen yÃ¼kÃ¼ dengeleyecekti. Biz bunun iÃ§in ihtiyacÄ±mÄ±za gÃ¶re gerekli yÃ¼klemeler konfigÃ¼rasyonlarÄ± yapÄ±p bir makina ayaÄŸa kaldÄ±ralÄ±m. Nginx server kuralÄ±m ve iÃ§ine herhangi bir index.html atalÄ±m. Daha sonra aynÄ± makinanÄ±n imajÄ±nÄ± oluÅŸturarak aynÄ± Ã¶zellikli bir makina daha ayaÄŸa kaldÄ±ralÄ±m. Elimizde iki makina var Load Balancer&#x27;Ä± o iki makinenin Ã¶nÃ¼ne koyacaÄŸÄ±z. Nginx kurulumu iÃ§in;<div class="indented"><p id="200869f7-a2aa-4465-ab39-2c917617a972" class="">sudo yamazon-linux-extras install nginx1.12</p><p id="c21cdc3e-bc2c-4fe0-8e4f-3da2154d3338" class="">sudo service nginx start</p><p id="4d106380-4a55-4e40-abb3-92303294f2d6" class="">sudo chkconfig nginx on &gt;&gt; aÃ§Ä±ldÄ±ÄŸÄ±nda otomatik server aÃ§Ä±lsÄ±n</p><p id="915c45c2-2b72-4cd6-adfe-3915afd2c5f4" class="">/usr/share/nginx/html/    &gt;&gt; klasÃ¶rÃ¼nÃ¼n iÃ§ine index.html i koyalÄ±m.(herhangi bir dosya eklemeseniz de olur nginx in kendi index.html&#x27;i mevcut)</p></div></p><figure id="8dc019d9-82ae-4f23-b5f3-99f8ca6901f9" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%209.png"><img style="width:1275px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%209.png"/></a></figure><p id="6b902796-aa51-43c7-9155-6136352b473a" class="">EC2 servis sayfasÄ±nÄ± aÃ§alÄ±m sol konsolda Load Balancing BaÅŸlÄ±ÄŸÄ±nÄ± bulalÄ±m. Åimdi konsola geÃ§ip load balance oluÅŸturacaÄŸÄ±z ama Ã¶ncesinde Target group yapmamÄ±z gerekiyor. Target group ile aslÄ±nda dinlediÄŸiniz trafiÄŸi iÃ§erde hangi trafiÄŸe yÃ¶nlendirmeniz gerekiyor onu ayarlayacaÄŸÄ±z. Bunun iÃ§in daha Ã¶nce target group oluÅŸturmadÄ±ÄŸÄ±mÄ±z iÃ§in Create target group seÃ§eneÄŸine girelim. <div class="indented"><p id="6119bdfd-d2ad-441d-9977-4e7ba100af8a" class=""><code>Choose a target type</code> &gt;&gt; Bu 4 seÃ§enek var. Sizin kaynaÄŸÄ±nÄ±z hangisi onu seÃ§iyorsunuz. Instance, IP addresses, Lambda function veya  daha Ã¶nce oluÅŸturduÄŸunuz Application Load Balancer seÃ§ebilirsiniz. Instance seÃ§elim Ã§Ã¼nkÃ¼ biz instance&#x27;larÄ±n Ã¶nÃ¼ne direk instance belirterek koyacaÄŸÄ±z balancer&#x27;Ä±. </p><p id="fab7333f-1e7d-4533-98bf-bae06bfa6f70" class=""><code>Target group name</code> &gt;&gt; ile gruba bir isim verelim.</p><p id="98d36b9b-be09-4117-a872-7af1e9332cc8" class=""><code>Protocol</code>  &gt;&gt; DÄ±ÅŸ dÃ¼nyadan aldÄ±ÄŸÄ±nÄ±z trafiÄŸi iÃ§erde hangi porta yÃ¶nlendirecek. default http kalabilir.</p><p id="39771011-33b4-4726-bdd6-ca3a4653d019" class=""><code>Health checks </code>&gt;&gt; Load Balancer instance&#x27;larÄ±nÄ±z dÃ¼zgÃ¼n Ã§alÄ±ÅŸÄ±yorsa trafiÄŸi onlara yÃ¶nlendirir. Yani makinelerinizden birisi Ã§Ã¶ktÃ¼ ise load balancer bunu anlamalÄ± ve artÄ±k o makineye trafik aktarmamalÄ±. Bu kontrolÃ¼ yapmasÄ± iÃ§in Ã¶nce portu seÃ§iyoruz HTTP portu. Daha sonra bu kontolÃ¼ hangi sayfa ile yapsÄ±n &quot;/&quot; bu ÅŸekilde bÄ±rakÄ±rsanÄ±z index.html ile bu kotrolÃ¼ yapar. Hemen altta ileri ayarlar mevcut. Advanced health check settings;<div class="indented"><p id="30b9f3e6-5fc0-4ba7-8973-43a7b535047f" class=""><code>Port  &gt;&gt;</code> Traffic port yani yukarÄ±da seÃ§tiÄŸimiz HTTP ile veya override seÃ§eneÄŸi ile farklÄ± bir port seÃ§ebiliriz.</p><p id="bc6a25a2-194f-4ae3-aa64-ed5f5756b484" class=""><code>Healthy threshold &gt;&gt;</code> Bu saÄŸlÄ±k testini kaÃ§ kez saÄŸladÄ±ÄŸÄ±nda sistem saÄŸlÄ±klÄ± kabul edilmesi iÃ§in karar sayÄ±sÄ±. Default deÄŸer 5. Yani 5 kez testi geÃ§erse sistem kullanÄ±labilir deÄŸerlendirilir.</p><p id="d974ddb9-a71c-4dd8-99e2-d81f1fea8577" class=""><code>Unhealthy threshold &gt;&gt;</code> KaÃ§ deneme de hata alÄ±rsan saÄŸlÄ±ksÄ±z kararÄ± ver default 2.</p><p id="01ee5460-c828-46ab-a55d-c9ece6dbca30" class=""><code>Timeout  &gt;&gt;</code> zaman aÅŸÄ±mÄ± olursa tekrar kaÃ§ sn sonra dene default 5sn</p><p id="c4b0206c-4e08-4eee-979f-cd8dbf704656" class=""><code>Interval  &gt;&gt;</code> Bu 5 denemeyi kaÃ§ saniye aralÄ±kla yap.</p><p id="2e069a9e-a3d0-4c0e-acf9-646ef95b92d2" class=""><code>Success codes &gt;&gt;</code> Burdaki kodu aldÄ±ÄŸÄ±nda baÅŸarÄ±lÄ± kabul et default 200.</p></div></p><p id="76a3809d-c1bd-4150-a2f6-caf26ea85cc5" class=""><code>Next</code> diyelim. Yeni gelen sayfada hedefimiz olan cihazlarÄ± yani instance&#x27;larÄ± seÃ§ip hemen altÄ±nda <code>Include as pending</code> below&#x27;a tÄ±klayalÄ±m. <code>Register pending target</code>&#x27;a basarak bu iÅŸlemi bitiriyoruz. Target group hazÄ±r.</p></div></p><p id="4c55fd92-762c-4b43-a829-e091d76f14f0" class="">Åimdi load balancer yapabiliriz. EC2 sayfasÄ±nda, sol konsolda, Load Balancing baÅŸlÄ±ÄŸÄ± altÄ±nda Load Balancer&#x27;a tÄ±klayalÄ±m. Create Load Balancer  butonuna basalÄ±m.</p><p id="d1abbdea-c33f-4b99-9c30-2f9394cbb35f" class="">KarÅŸÄ±mÄ±za daha Ã¶nce gÃ¶rdÃ¼ÄŸÃ¼mÃ¼z 3 load balancer tipi Ã§Ä±kacak. Dikkat ederseniz daha Ã¶nce 4 demiÅŸtik. Classic Load Balancer artÄ±k tavsiye edilmediÄŸi iÃ§in sayfanÄ±n altÄ±na neredeyse gizlenmiÅŸ ğŸ˜‚. Biz Application Load Balancer&#x27;i seÃ§iyoruz(hemen aÅŸaÄŸÄ±sÄ±nda create butonuna basÄ±nÄ±z).  </p><p id="76e1169c-8f37-4d32-95bb-f84c1a4db5e7" class=""><mark class="highlight-red">Load balancer name &gt;&gt;</mark> kÄ±smÄ±nda balancer&#x27;Ä±nÄ±za isim verelim.</p><p id="d1ad4d4d-9f41-41c7-bf47-7be8b29cebc4" class=""><mark class="highlight-red">Scheme  &gt;&gt;</mark> Bu kÄ±sÄ±mda 2 seÃ§enek mevcut. Internet-facing dÄ±ÅŸardan gelen trafiÄŸinizi yÃ¶netmesi iÃ§in kullanÄ±lÄ±yor, internal ise siz VPC iÃ§inde bir balancer ihtiyacÄ±nÄ±z varsa iÃ§erde kullanacaÄŸÄ±nÄ±z dÄ±ÅŸarÄ±yla alakasÄ±z bir gÃ¶reviniz varsa seÃ§ebilirsiniz biz Internet-facing seÃ§elim dÄ±ÅŸardan gelen trafik iÃ§in yapacaÄŸÄ±z.</p><p id="2cbf661c-036b-497e-a63c-787bb8b89560" class=""><mark class="highlight-red">IP address type &gt;&gt;</mark> kÄ±smÄ±nda da iki seÃ§enek var ipv4 ve dualstack. EÄŸer ipv6 da dahil olsun isterseniz Dualstack seÃ§ebilirsiniz.</p><p id="16d189a4-a1ca-4ed8-bbfc-5acd5a922a39" class=""><mark class="highlight-red">Network mapping &gt;&gt; </mark>Load Balancer&#x27;Ä±n dÄ±ÅŸardan dinletiÄŸi trafiÄŸi hangi AZ(Avalibility Zone) lara aktarabileceÄŸini seÃ§iyoruz. </p><p id="6d1f843b-04c2-4abf-a0ee-2e59010b6d7d" class=""><mark class="highlight-red">Security groups &gt;&gt; </mark>Ã–nceki Ã¶rneklerde biz security grubu(SG) trafik  direk inctance&#x27;a yÃ¶nlendiÄŸi instance iÃ§in kullanÄ±yorduk. Åimdi ise inctance larÄ±n Ã¶nÃ¼ne koyacaÄŸÄ±mÄ±z load balancer bu iÅŸi yapacaÄŸÄ± iÃ§in load balancer&#x27;a bir SG seÃ§iyoruz.</p><p id="c7d3e793-f8a4-40e2-99cb-5ecdc8a07f2a" class=""><mark class="highlight-red">Listeners and routing &gt;&gt;</mark> YukarÄ±da bahsetmiÅŸtik iki bileÅŸen var birisi listener diÄŸeri config idi. Listener iÃ§in gelen trafiÄŸi hangi porttan dinleyeceÄŸini seÃ§iyoruz. Burada http iÃ§in 80 portunu dinlememiz gerekiyor eÄŸer gÃ¼venli seÃ§enek de olsun isterseniz https yani 443 portunu da dinleyebilirsiniz. Port girdikten sonra hemen karÅŸÄ±sÄ±nda Target Group seÃ§ilmesi gerekiyor. Daha Ã¶nce oluÅŸturmuÅŸtuk buradan seÃ§elim.</p><p id="e26ef62d-51c4-4b63-b694-b077b2e5bf4d" class=""><mark class="highlight-red">Tag</mark> &gt;&gt; Ä°sterseniz bir isim verelim Name Key deÄŸeri ile.  Altta summary kÄ±smÄ±ndan bir gÃ¶zden geÃ§irelim sÄ±kÄ±ntÄ± var mÄ± diye ve <mark class="highlight-red">create load balancer</mark> seÃ§eneÄŸini tÄ±klayalÄ±m. Aktif hale gelmesi biraz zaman alacak. </p><p id="11205c1a-549b-4df2-ad6c-35b28993b714" class="">Alt konsolda Description bÃ¶lÃ¼mÃ¼nde LB(load balancer)&#x27;Ä±n DNS name&#x27;ini kopyalayarak browser&#x27;a yapÄ±ÅŸtÄ±ralÄ±m ve Ã§alÄ±ÅŸÄ±yor mu test edelim. Sayfa aÃ§Ä±ldÄ± ama hangi makineden veri alÄ±yorusunuz onu gÃ¶rmek iÃ§in iki yol var. </p><p id="7b43777f-36b8-4af3-b8e2-c0be332cc1c8" class="">Birincisi herhangi birine baÄŸlanÄ±p index.html de kÃ¼Ã§Ã¼k bir deÄŸiÅŸiklik yapabilirsiniz. SayafayÄ± sÃ¼rekli yenileyin deÄŸiÅŸikliÄŸi gÃ¶receksiniz.</p><p id="ce3b19ed-ec47-45e9-a564-9383710f693e" class="">Ä°kincisi ise bir instance&#x27;Ä± stop edelim yani birinin Ã§Ã¶ktÃ¼ÄŸÃ¼nÃ¼ simule edelim trafiÄŸin tamamÄ±nÄ±n deÄŸer instance&#x27;a aktÄ±ÄŸÄ±nÄ± gÃ¶rebilirsiniz.</p><p id="8547a2ba-c359-4b64-b457-ded881ea5202" class="">BazÄ± durumlarda session datayÄ± kaybetmemek iÃ§in, aynÄ± istemciden gelen trafik sÃ¼rekli aynÄ± kaynaÄŸa gitsin isteriz. Bunu saÄŸlamak iÃ§in kÃ¼Ã§Ã¼k bir ayar yapacaÄŸÄ±z. Target group sayfasÄ±nda iken action butonuna basalÄ±m ve adit attributes&#x27;Ã¼ seÃ§elim. AÃ§Ä±lan sayfada stickness kutucuÄŸunu iÅŸaretleyelim ve ne kadar sÃ¼re bu seÃ§eneÄŸi aktif tutacaÄŸÄ±nÄ± gÃ¼n olarak seÃ§elim. AÅŸaÄŸÄ±daki resimde client-1 den Ã§Ä±kan tÃ¼m isteklerin soldaki ec2 ya gÃ¶nderilmesi durumu.<div class="indented"><figure id="06cef688-5b7b-4a80-b9b5-e5a6d50bdc4b" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2010.png"><img style="width:288px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2010.png"/></a></figure></div></p><p id="fac8e94c-4646-48f4-8031-b4b8ae3093a5" class="">BazÄ± durumlarda ise farklÄ± AZ&#x27;lerde kaynak yaratmÄ±ÅŸ olabiliriz ve her AZ iÃ§in ayrÄ± load balancer kurmuÅŸ oluruz. Fakat birinci AZ&#x27;de 2 EC2 varken diÄŸerinde 10 adet olabilir. Bu durumda gelen istekleri eÅŸit daÄŸÄ±tmamÄ±z iÃ§in bazÄ± durumlarda biz iÅŸlem yapmamÄ±z gerekeccek. Bu olaya Cross-Zone Load Balancing diyoruz. AÅŸaÄŸÄ±daki resimden iceleyelim.</p><figure id="17eef473-3e00-44e3-9562-abe066d36cc0" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2011.png"><img style="width:528px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2011.png"/></a></figure><p id="41543e8b-6e63-44e0-a8b0-f54691dfd06e" class="">Soldaki resimde Cross-Zone Load Balancing aktif durumda her iki AZ&#x27;de toplam 10 EC2 var ve tÃ¼m yÃ¼kÃ¼ ortak paylaÅŸtÄ±rÄ±yor her EC2&#x27;ya %10&#x27;luk yÃ¼k daÄŸÄ±lÄ±yor. Ä°kincisinde ise Ã¶ncelikle her AZ iÃ§in yÃ¼kÃ¼ ayÄ±rÄ±yor yani yÃ¼k ikiye ayrÄ±lÄ±yor. Fakat burda sol AZ&#x27;de bir EC2 %25 yÃ¼k alÄ±rken diÄŸer AZ&#x27;de bir EC2 %6.25 yÃ¼k alÄ±yor. </p><p id="6f407574-04a0-4ef8-9e90-0a8cd9be6b55" class="">Cross-Zone Load Balancing, ALB&#x27;de seÃ§ilebilir bir Ã¶zellik deÄŸildir daima aktiftir. Clasic Load Balancer&#x27;da default deÄŸeri pasiftir. Siz aktif etmeniz gerekir ve extra Ã¼creti yoktur. NLB ise default deÄŸeri pasiftir. Siz aktif etmeniz gerekir ve<code> extra Ã¼creti vardÄ±r</code>. Load Balancer sayfasÄ±nda aktif etmek istediÄŸinizi seÃ§in description baÅŸlÄ±ÄŸÄ±nda alt kÄ±sÄ±mlarda bu Ã¶zelliÄŸi gÃ¶rebilirsiniz.</p><p id="915d21cb-1be6-4a6e-9a3f-de19b1133295" class="">Son olarak HTTPs kullanÄ±mÄ±ndan biraz konuÅŸalÄ±m. Secure gelen trafik Load Balancer&#x27;a kadar gelir ve Ã§Ã¶zÃ¼mleme burada gerÃ§ekleÅŸir. Yani LB ile EC2 arasÄ±nda HTTP ile iletiÅŸim devam eder. </p><figure id="66e49330-48d4-4598-a3c6-a47453774c58" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2012.png"><img style="width:576px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2012.png"/></a></figure><p id="30a4778d-16a3-430a-ab8c-6d9b6358deec" class="">SertifikayÄ± biz LB Ã¼zerinde muhafaza ederiz. Fakat LB arkasÄ±nda Ã§alÄ±ÅŸan server&#x27;larda birden fazla site mevcutsa birden fazla sertifika olmasÄ± gerekiyor. Birden fazla sertifika kullanÄ±mÄ±nÄ± ancak ALB ve NLB ile kullanÄ±labilir CLB&#x27;da Ã§oklu kullanÄ±m yoktur. Load Balancing sayfasÄ±nda ilgili LB yi seÃ§tiÄŸinizde alt menÃ¼de listener baÅŸlÄ±ÄŸÄ±nÄ± seÃ§elim. Edit seÃ§eneÄŸi ile HTTPs&#x27;i seÃ§elim ve yan taraftan sertifikamÄ±zÄ± seÃ§ebiliriz.</p><hr id="b921c861-c28f-413d-9b7c-7cd35a6f242e"/><figure id="b4d561e5-d430-4963-94dd-68309ea00773" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2013.png"><img style="width:480px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2013.png"/></a></figure><p id="bebe718a-d6c8-4ebf-b23e-764a90eab197" class="">Auto scaling konusuna girelim ÅŸimdi de. BaÅŸlangÄ±Ã§ta Ã¶zet olarak belirttiÄŸimiz gibi bu hizmet makine artÄ±rma azaltma iÅŸlemlerini otomatik gerÃ§ekleÅŸtiriyor. Sizin trafiÄŸiniz gÃ¼nÃ¼n belli saatlerinde yoÄŸunlaÅŸÄ±yorsa mÃ¼ÅŸterinizin size ulaÅŸabilmesi iÃ§in Ã§ok fazla kaynak kullanamanÄ±z gerekecek. Fakat geri kalan saatlerde talep azaldÄ±ÄŸÄ±nda elinizde atÄ±l kalan bir kapasite olacak. Tersi durumda kaynak atÄ±l kalmasÄ±n diye az kaynak kullanÄ±rsanÄ±z bu sefer de yoÄŸun saatlerde mÃ¼ÅŸteri size ulaÅŸamayacak bu daha kÃ¶tÃ¼ bir durum Ã§Ã¼nkÃ¼ mÃ¼ÅŸteri kaÃ§ar. Veya zaman zaman kampanya yapÄ±yorsunuz trafiÄŸiniz artÄ±yor ve ne kadar artacaÄŸÄ±nÄ± kestirmek de kolay deÄŸil. Bu iÅŸlemleri manuel yÃ¼rÃ¼tmek gerÃ§ekten Ã§ok gÃ¼Ã§ o yÃ¼zden bu hizmeti kullanmamÄ±z gerekiyor. Bu hizmeti kullanÄ±rken de kurallar oluÅŸturuyoruz. Diyelim ki makinelerizin cpu kullanÄ±mÄ± %85 lere geldi burada yeni makine devreye alma kuralÄ± ve cpu kullanÄ±mÄ± %40 lara dÃ¼ÅŸtÃ¼ makine azaltma iÅŸlemleri belirlediÄŸiniz bu kurallar Ã§erÃ§evesinde otomatik gerÃ§ekleÅŸiyor. AyrÄ±ca Auto Scaling kullanmak Ã¼cretisizdir tabiki kullandÄ±ÄŸÄ± kaynaklar Ã¼cretli ğŸ™‚</p><p id="838e6929-ed8b-4b19-bc63-4fa1c072d865" class="">AslÄ±nda iki kavram var onlarÄ± da aÃ§Ä±klayalÄ±m. Birincisi vertical scalability diÄŸeri horizontal scalability. Bizim bu konuda anlatacaÄŸÄ±mÄ±z horizontal scalability yani yatay Ã¶lÃ§ekleme. FarkÄ±nÄ± ÅŸÃ¶yle anlatabilirim yatay Ã¶lÃ§eklemede makineleriniz yetersiz kalmasÄ± durumunda aynÄ± cins makine ilave ederek sorunu Ã§Ã¶zÃ¼yorsunuz. Dikey Ã¶lÃ§eklemede ise aynÄ± sorunu yeni makinenin Ã¶zelliklerini artÄ±rÄ±yorsunuz. Diyelim ki t2.micro kullanÄ±yordunuz yetersiz kaldÄ± t2.large yapÄ±yorsunuz. Dikey Ã¶lÃ§ekleme genellikle database iÃ§in kullanÄ±lacak.</p><p id="a81df5f4-e55d-42d9-b22d-e294240e15d4" class="">Åimdi konuÅŸtuklarÄ±mÄ±zÄ± konsoldan nasÄ±l yaparÄ±z ona bakalÄ±m. EC2 sayfasÄ±nda sol konsolda en altta Auto Scaling baÅŸlÄ±ÄŸÄ±na gelelim. Ã–ncelikle Launch Config yapacaÄŸÄ±z. Hani dedik ya Auto scaling makine sayÄ±sÄ±nÄ± artÄ±rÄ±p azaltÄ±yor otomatik yeni makineyi neye gÃ¶re ekleyecek neyi baz alacak aslÄ±nda bu menÃ¼de onu tanÄ±mlayacaÄŸÄ±z. Kabaca Instance oluÅŸtururken karÅŸÄ±mÄ±za Ã§Ä±kan sorular burada da Ã§Ä±kacak diyebiliriz. AMI ve Instance Type seÃ§imi, EC2 User Data girilmesi, EBS volÃ¼me seÃ§ilmesi, Security group ayarlanmasÄ±, Key seÃ§imi gibi.</p><p id="55151f0c-3412-4198-a296-bbb59f47bf71" class=""><code>Create Launch configurations</code> butonuna basalÄ±m. <div class="indented"><p id="f07208c9-d75a-4f11-af2b-41235fc25377" class=""><code>Name &gt;&gt;</code> ile bir isim verelim</p><p id="e9ee17bb-9af2-47a6-9e5f-a40973972c44" class=""><code>AMI &gt;&gt;</code> burada yeni oluÅŸacak makinelerin imajÄ±nÄ± seÃ§iyoruz. Bunu kendimiz nginx li bir AMI oluÅŸturmuÅŸtuk onu seÃ§elim.</p><p id="ff663412-d1b2-4101-a1f3-03bc5b11d5f7" class=""><code>Instance type &gt;&gt;</code> BeleÅŸ olan t2.micro&#x27;yu seÃ§elim</p><p id="1a49a1c0-ec16-4b54-8b64-a37ceef612df" class=""><code>Spot Instance</code> &gt;&gt; istemiyoruz ÅŸimdilik.</p><p id="7a254459-e821-4a17-9bab-efd1312fc50b" class=""><code>Monitoring &gt;&gt;</code> CloadWatch aÃ§arsanÄ±z daha 1 dk gecikme ile monitoring yaparsÄ±nÄ±z ama Ã¼cretli gerek yok.</p><p id="89001a31-d303-45b2-acc2-b770555ef7b5" class=""><code>Advanced details &gt;&gt; User data &gt;&gt;</code> BaÅŸlarken program yÃ¼klemek isterseniz burdan script olarak girebilirsiniz. Biz AMI&#x27;yi gerekli programlarla oluÅŸturduÄŸumuz iÃ§in gerek yok.</p><p id="6cc0dc8d-396c-49e2-bed3-0abe0eb14790" class=""><code>Storage (volumes) &gt;&gt;</code> BÃ¶lÃ¼mÃ¼nden yeni volume ekleyebilirsiniz. </p><p id="0d4b755a-8c20-4f21-a6e3-782683d8c8d8" class=""><code>Security groups &gt;&gt;</code> Bu kÄ±sÄ±mda uygun ayarlÄ± bir SG seÃ§elim 80 portu aÃ§Ä±k olan birini seÃ§ebilirsiniz.</p><p id="864ad5c6-7680-483e-822c-7d2d494c2cd7" class=""><code>Key pair (login) &gt;&gt;</code> var olan bir key seÃ§in. pem dosyasÄ±nÄ± yani</p><p id="b16697d1-1997-4328-ae36-05e9ae30a15c" class=""><code>Create lounch configuration</code>&#x27;a basalÄ±m ve iÅŸimizi bitirelim burada. Burada bir sanal makine yaratmadÄ±k sadece daha sonra oluÅŸturulacak sanal makine kurallarÄ± belirledik. Launch config hazÄ±r sÄ±rada Auto Scaling Group(ASG) oluÅŸturmak kaldÄ±.</p></div></p><p id="cef016af-06cf-49c2-8e25-452c8d998911" class="">Sol konsolda  ASG yi seÃ§elim. <code>Create Auto Scaling group</code> &#x27;e basalÄ±m. <div class="indented"><p id="3c03a618-cd56-4ef7-9e25-1fc866ac7498" class=""><code>Name </code>&gt;&gt; Bir isim verelim. </p><p id="6485a7b9-8c0e-414c-9e56-0190efc0370e" class=""><code>Launch template</code>  &gt;&gt; Biz templete deÄŸilde cofiguration hazÄ±rlamÄ±ÅŸtÄ±k. AÅŸaÄŸÄ±da resimde gÃ¶sterdiÄŸim yere tÄ±klayalÄ±m ve deÄŸiÅŸsin sayfa. Burada hazÄ±rda template varsa onu kullanabilir veya<code> create a launch template</code> diyerek oracÄ±kta bir template oluÅŸturabilirsiniz. Ben configuration hazÄ±rlamayÄ± gÃ¶sterdim ama yeni trend daha kapsayÄ±cÄ± olan launch template&#x27;dir. AslÄ±nda Ã§ok da farklÄ± deÄŸil versiyonlama yapabilirisiniz template&#x27;de bu gÃ¼zel bir Ã¶zellik. DiÄŸer kÄ±sÄ±m configuration ile Ã§ok benzer. Daha sonra oluÅŸturduÄŸumuz Launch Configuration&#x27;u seÃ§elim.</p><figure id="554ea752-878d-4e1b-b705-58ae23339115" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2014.png"><img style="width:815px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2014.png"/></a></figure><p id="22d8ce17-beae-48e1-a62d-a49e48cd3c60" class=""><code>Network</code> &gt;&gt; VPC gÃ¶rmediÄŸimiz iÃ§in  bu kÄ±sÄ±mda sadece aÅŸaÄŸÄ±daki subnetlerin hepsini seÃ§elim ve next&#x27;e basalÄ±m</p><p id="9a6ce1b5-da49-4ed4-bd53-fbd4bae34e4e" class=""><code>Load balancing</code> &gt;&gt; Ã¼Ã§ seÃ§enek var. Birincisi Load Balancer seÃ§meden devam edebilirsiniz. Ä°kincisi hazÄ±rda load balancer varsa seÃ§erek  ASG&#x27;yi LB arkasÄ±na koyabilirsiniz.  ÃœÃ§Ã¼ncÃ¼ seÃ§enekte de yeni bir load balancer oluÅŸturup baÄŸlayabilirsiniz. Biz daha Ã¶nce yapmÄ±ÅŸtÄ±k onu seÃ§elim. DiÄŸer seÃ§enekler default kalabilir <code>next </code>&#x27;e basalÄ±m.</p><figure id="7cda864d-be9d-4e41-8a40-b1be76ed81fb" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2015.png"><img style="width:513px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2015.png"/></a></figure><p id="fd1d09e2-0616-41df-9f98-2f8e4b035983" class=""><code>Group size</code> &gt;&gt; bu baÅŸlÄ±kta Ã¼Ã§ seÃ§enek var. Birincisi Desired capacity, bu seÃ§ekle baÅŸlangÄ±Ã§ta kaÃ§ makine ile baÅŸlansÄ±n onu seÃ§iyoruz. Hemen alÄ±tÄ±ndaki deÄŸerlerde ise trafiÄŸin artmasÄ± veya azalmasÄ± durumunda makine sayÄ±sÄ± maksimum hangi deÄŸere Ã§Ä±kabilsin ve minimum hangi deÄŸere kadar dÃ¼ÅŸebilsin ÅŸeklinde belirleyebiliyoruz. </p><p id="debd259c-dc62-4a97-8193-1df70f9f1657" class="">Bunu neye gÃ¶re artÄ±rÄ±p azaltacak derseniz hemen aÅŸaÄŸÄ±da <code>Scaling policies</code> baÅŸlÄ±ÄŸÄ±nda belirliyoruz. Scaling policies kÄ±smÄ±nÄ± daha sonra anlatacaÄŸÄ±m ÅŸimdilik bu menÃ¼de <code>None </code>seÃ§elim.  </p><p id="e54d74cf-add2-4d07-b41b-4eaa65fcc911" class=""><code>Add notifications</code> &gt;&gt; baÅŸlÄ±ÄŸÄ±nda ise deÄŸiÅŸim olmasÄ± durumunda size bildirim gelmesini istiyorsanÄ±z SNS servisi ile bildirimleri alabilirsiniz daha sonra anlatacaÄŸÄ±m SNS kÄ±smÄ±nÄ±. Next diyelim.</p><p id="80394085-6408-4b9f-b49a-45be5fe10910" class="">Add tags &gt;&gt; ile etiketleme yapabilirsiniz. Tag new instances tiklerseniz yeni oluÅŸan kaynaklara da bu etiketi verecek. Next Diyelim.</p><figure id="6d3f89e0-f967-4fa6-9ee7-93a56fca1812" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2016.png"><img style="width:697px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2016.png"/></a></figure><p id="8e5fdb4d-a4fe-4dbc-b52c-4c88babf6a97" class="">Review kÄ±smÄ±nda son gÃ¶zden geÃ§irmenizi yaptÄ±ktan sonra create ASG diyelim ve oluÅŸturalÄ±m.</p><figure id="bc88cfc7-4f90-4e1f-9852-8b1f0ba016ab" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2017.png"><img style="width:1037px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2017.png"/></a></figure><p id="a9aa5f99-0454-42a1-8adb-d4200365b68f" class="">Instance sayfamÄ±zÄ± aÃ§tÄ±ÄŸÄ±mÄ±zda 2 makine ile baÅŸla dediÄŸimiz iÃ§in yeni 2 makine(yeni-ASG etiketli olanlar) oluÅŸturulmaya baÅŸlanmÄ±ÅŸ. </p><p id="fae36aaf-d059-4cc5-92e2-aa65d7ec193a" class="">Auto Scaling groups sayfasÄ±nda aÅŸaÄŸÄ±da resimde gÃ¶rÃ¼ldÃ¼ÄŸÃ¼ gibi <code>detail </code>kÄ±smÄ±nda oluÅŸturma aÅŸamasÄ±nda seÃ§tiÄŸimiz deÄŸerleri gÃ¶rebiliriz. </p><figure id="396bab98-336f-4ea9-bc2a-d74d3564dd2a" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2018.png"><img style="width:1001px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2018.png"/></a></figure><p id="2a3bd86b-1224-41bf-857c-a7ea92ca93d5" class=""><code>Activity</code> bÃ¶lÃ¼mÃ¼nde yeni bildirimler oluÅŸturabilir oluÅŸturdu isek daha Ã¶nceki bildirim ayarlarÄ±nÄ± gÃ¶rebiliriz. History kÄ±smÄ±nda varsa bir hata veya baÅŸarÄ±lÄ± sonuÃ§ Ã§Ä±ktÄ±sÄ±nÄ± gÃ¶rebiliriz.</p><p id="d64632e6-4162-48a2-bc7d-6bf6d4ae7326" class=""><code>Automatic scaling</code> bÃ¶lÃ¼mÃ¼nde neye gÃ¶re makine sayÄ±sÄ±nÄ± deÄŸiÅŸtireceÄŸimizi girdiÄŸimiz kurallarÄ± gÃ¶rebiliriz.  Bu kÄ±sÄ±m Ã¶nemli ASG oluÅŸtururken daha sonra yapacaÄŸÄ±mÄ±z iÃ§in policy seÃ§memiÅŸtik  ÅŸimdi burada yapacaÄŸÄ±z.  3 seÃ§enek var. <strong>Dynamic scaling policies, Predictive scaling policies ve Scheduled actions.</strong><div class="indented"><p id="decfa61f-55c3-4b35-8340-5706fb013175" class=""><code>Scheduled actions</code> ile baÅŸlayalÄ±m. Create scheduled action&#x27;a tÄ±klayalÄ±m </p><figure id="40035889-0cf0-490e-8518-2fbc4bfe6f29" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2019.png"><img style="width:524px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2019.png"/></a></figure><p id="87a20abc-7bdf-42a3-ad51-ecd1f1f45297" class="">Ã–nce isim veriyoruz. Sonra min, max ve desired capacity iÃ§in belirlediÄŸimiz sayÄ±larÄ± giriyoruz.  Recurrence kÄ±smÄ±nda kaÃ§ kez olduÄŸunu gireceÄŸiz saatte bir, gÃ¼nde bir haftada bir gibi. Son olarak baÅŸlangÄ±Ã§ iÃ§in zaman seÃ§ip bitiriyoruz.</p><p id="d270b855-2bd5-43c6-baff-9585a71ba0ec" class=""><code>Predictive scaling</code> tahmine dayalÄ± bir makine Ã¶ÄŸrenmesi Ã§alÄ±ÅŸtÄ±rÄ±labilen bir Ã¶lÃ§eklendirme Ã§eÅŸitidir. Metrik deÄŸer iÃ§in aÅŸaÄŸÄ±dakiler seÃ§ilebilir.</p><figure id="f96fe53a-86fc-4bcf-a296-932049ee8b9f" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2020.png"><img style="width:508px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2020.png"/></a></figure><p id="aecbbbd9-fd6d-4c71-a4ab-78424808fe43" class=""><code>dynamic scaling</code>   3 tipi vardÄ±r. <code>Target tracking scaling</code> seÃ§ildiÄŸinde aÅŸaÄŸÄ±daki metrik type lardan herhangi birisi seÃ§ilip belirlenen eÅŸik deÄŸerine gelindiÄŸinde artÄ±rÄ±m azaltÄ±m yapar. </p><figure id="7f291f7f-f03e-4ef7-a562-76c024b6edf0" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2021.png"><img style="width:468px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2021.png"/></a></figure><p id="cfcdf88f-9f8d-42bc-bbca-91dcaa05c9f7" class=""><code>Step scaling</code> seÃ§ilirse daha Ã¶nce ayarlanan cloudwatch alarmÄ± oluÅŸtuÄŸunda.  ArtÄ±rma, azaltma veya belirlenen deÄŸere ayarlama yapÄ±labilir. Bu deÄŸer unit olarak olabileceÄŸi gibi grubun yÃ¼zdesi olarak da seÃ§ilebilir. Add step seÃ§ilip aynÄ± ÅŸekilde farklÄ± adÄ±mlar oluÅŸturulabilir.</p><figure id="aa210a33-6c03-4f47-a1f3-8ad763ffaa16" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2022.png"><img style="width:855px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2022.png"/></a></figure><p id="dc16a8b2-c21d-462e-ba95-b0e179aa57fb" class=""><code>Simple scaling</code> de ise step scaling ile aynÄ± arayÃ¼z fakat tek bir adÄ±m oluÅŸturulabiliniyor.</p></div></p><p id="b09804ef-0b4d-48b0-b0ff-2903f7b484dd" class="">Target tracking scaling seÃ§ilip istenen deÄŸer gelindiÄŸinde artÄ±r azalt kurallarÄ±yla devam edebiliriz.</p><p id="ddd0912d-b403-4924-8ab2-7a3e71b095dc" class=""><code>Instances management</code> bÃ¶lÃ¼mÃ¼nde ASG ile ayaÄŸa kalkan instance&#x27;larÄ± gÃ¶rebiliriz.</p><p id="3eca1ba6-2270-4abb-899d-fe4cf38a3355" class=""><code>monitoring</code> bÃ¶lÃ¼mÃ¼nde cloudwatch servisi ile gelen grafikleri gÃ¶rebiliriz.</p><p id="28dc62d7-85e8-4f42-8024-430c0483a2a3" class="">Åimdi load balancing kÄ±smÄ±na gelelim ve target groups kÄ±smÄ±nÄ± aÃ§alÄ±m. ASG yi load balancer arkasÄ±na koymuÅŸtuk. Yeni oluÅŸan Instance&#x27;larÄ± eklemiÅŸ mi bakalÄ±m.</p><figure id="4fdcf166-97b5-4df2-adcb-24680774574e" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2023.png"><img style="width:1023px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2023.png"/></a></figure><p id="c528ae31-1eaa-4440-9779-8c8f3965fc19" class="">Ne yapmÄ±ÅŸtÄ±k 2 tane instance olan target gruba eklemiÅŸtik ve ASG oluÅŸtururken de baÅŸlangÄ±Ã§ta 2 instance minimum 1 ve maksimum 5 instance seÃ§miÅŸtim. 2 tane daha makine Ã§alÄ±ÅŸtÄ±rdÄ± ama birisini geri kapattÄ± trafik yok ve minimum deÄŸer 1 olduÄŸu iÃ§in.</p><p id="0343dfa2-bbd6-4312-ae68-d919191fb134" class="">ASG nin Ã§alÄ±ÅŸtÄ±ÄŸÄ±nÄ± kontrol etmek iÃ§in ÅŸunu yapalÄ±m. ASG ile gelen instance&#x27;Ä± kapatalÄ±m Ã§Ã¶ktÃ¼ÄŸÃ¼nÃ¼ varsayalÄ±m. Yenisini oluÅŸturmasÄ±nÄ± bekleyeceÄŸiz. Bunun iÃ§in 300 sn kadar beklememiz gerekir bu ayarlarda olan bir deÄŸerdi. </p><figure id="5b6c0370-b2c1-4f8d-801b-124ede6c818b" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2024.png"><img style="width:1062px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2024.png"/></a></figure><p id="5743c7a4-f931-4e38-a09a-0bb5726b6c96" class="">YukarÄ±daki resimde 3 adet yeni_ASG gÃ¶rÃ¼yorsunuz. BunlarÄ±n ikisini baÅŸlangÄ±Ã§ta aÃ§tÄ± ve birisini tekrar kapattÄ±. Ä°kincisini ben bilerek kapattÄ±m. Minimum 1 girdiÄŸimiz iÃ§in tekrar 1 makine daha oluÅŸturdu. Ã–nemli bir detay var burada sayÄ±larla ilgili. Biz minimum 1 dedik ama 2 tane de Ã¶nceden vardÄ± sÃ¼rekli 3 makine Ã§alÄ±ÅŸÄ±yor aslÄ±nda biz bÃ¶yle olsun istemedik. ASG Ã¶ncesinde kaÃ§ makine varmÄ±ÅŸ bakmaz. Ama bunun Ã§Ã¶zÃ¼mÃ¼ var instance sayfasÄ±na gelelim. Ä°lk iki makineyi de bu gruba dahil edebiliriz.  Makineyi seÃ§ip action menÃ¼sÃ¼nÃ¼ aÃ§alÄ±m. Instance setting &gt;&gt; Attach to ASG ile her ikisini de ekleyelim.  ASG menÃ¼sÃ¼ne tekrar gelelim.</p><figure id="f1f63cff-0bbd-4cf9-8be0-5a5fd05b1f5a" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2025.png"><img style="width:1003px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2025.png"/></a></figure><p id="4a8ccc33-e545-4706-a07e-cbb218bd6c73" class="">Desired capacity 1 idi 3 e Ã§Ä±kartmÄ±ÅŸ biz bunu edit ile dÃ¼zeltebiliriz. Takrar sayÄ±yÄ± bire dÃ¼ÅŸÃ¼rdÃ¼m 2 makine kapandÄ±. </p><figure id="5468bb4c-3dae-4f9a-9cb8-0422ad2714e4" class="image"><a href="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2026.png"><img style="width:1088px" src="EC2%20LOAD%20BALANCING%20&amp;&amp;%20AUTO%20SCALING%203eb8637889054e50be383728b0fd208c/Untitled%2026.png"/></a></figure><p id="2187a2d2-21d0-478b-b92b-916d2e84e9e0" class="">SayÄ± artÄ±rmayÄ± simÃ¼le etmek iÃ§in de ÅŸunu yapabilirsiniz. Makineye baÄŸlayÄ±p stress tool&#x27;u yÃ¼kleyerek yapay bir yÃ¼k yaratÄ±p gÃ¶rebilirsiniz. AÅŸaÄŸÄ±daki kodlar ile instance&#x27;a baÄŸlanÄ±p Ã§alÄ±ÅŸtÄ±rabilirsiniz.</p><p id="c514897d-6bf7-4d6a-9cc5-9b18f70a07c1" class="">yum install <a href="https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm">https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm</a>
yum install stress
stress --cpu  80 --timeout 2000</p><p id="13853e17-684c-403e-b80a-a16c8b589eb6" class="">veya</p><p id="1730aec4-3279-4434-b563-2a06492186e8" class="">sudo amazon-linux-extras install epel -y</p><p id="72c01d5f-c41a-4751-8721-0fc13813d149" class="">sudo yum install -y stress
stress --cpu 80 --timeout 2000
</p></div></p></div></article></body></html>